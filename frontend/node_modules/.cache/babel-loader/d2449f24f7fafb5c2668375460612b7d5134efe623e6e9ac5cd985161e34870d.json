{"ast":null,"code":"var _jsxFileName = \"E:\\\\FairDeal(stellar)\\\\frontend\\\\src\\\\pages\\\\JobDetail.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JobDetail = ({\n  wallet,\n  userRole\n}) => {\n  _s();\n  const {\n    jobId\n  } = useParams();\n  const navigate = useNavigate();\n  const [job, setJob] = useState(null);\n  const [jobStatus, setJobStatus] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [approving, setApproving] = useState(false);\n  const [rejecting, setRejecting] = useState(false);\n  const [raisingFlag, setRaisingFlag] = useState(false);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    loadJobDetails();\n  }, [jobId]);\n  const loadJobDetails = async () => {\n    try {\n      // Fetch real job data from backend\n      const response = await axios.get(`http://localhost:5000/api/jobs/${jobId}`);\n      if (response.data.success) {\n        setJob(response.data.job);\n        console.log(\"Loaded job:\", response.data.job);\n        console.log(\"Job State:\", response.data.job.state, typeof response.data.job.state);\n      } else {\n        setError(\"Job not found\");\n        setJob(null);\n      }\n\n      // Load submission status from backend\n      try {\n        const statusResponse = await axios.get(`http://localhost:5000/api/jobs/${jobId}/preview`);\n        setJobStatus(statusResponse.data);\n      } catch (err) {\n        // Not submitted yet\n        setJobStatus(null);\n      }\n    } catch (err) {\n      console.error(\"Error loading job:\", err);\n      setError(\"Failed to load job details\");\n      setJob(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getStateLabel = state => {\n    const labels = {\n      0: \"Created\",\n      1: \"Submitted\",\n      2: \"Approved\",\n      3: \"Rejected\",\n      4: \"Refunded\"\n    };\n    return labels[state] || \"Unknown\";\n  };\n  const getStatusClass = state => {\n    const states = {\n      0: \"status-created\",\n      1: \"status-submitted\",\n      2: \"status-approved\",\n      3: \"status-rejected\",\n      4: \"status-refunded\"\n    };\n    return states[state] || \"status-created\";\n  };\n  const handleApprove = async () => {\n    setApproving(true);\n    try {\n      const response = await axios.post(`http://localhost:5000/api/jobs/${jobId}/approve`);\n      alert(`Job approved! Original file CID: ${response.data.originalCID}`);\n      alert(`Decryption Key: ${response.data.decryptionKey}`);\n\n      // Reload job status\n      loadJobDetails();\n    } catch (err) {\n      setError(\"Failed to approve job: \" + err.message);\n    } finally {\n      setApproving(false);\n    }\n  };\n  const handleReject = async () => {\n    if (window.confirm(\"Are you sure you want to reject this job?\")) {\n      setRejecting(true);\n      try {\n        await axios.post(`http://localhost:5000/api/jobs/${jobId}/reject`);\n        alert(\"Job rejected. The original file will not be revealed.\");\n        loadJobDetails();\n      } catch (err) {\n        setError(\"Failed to reject job: \" + err.message);\n      } finally {\n        setRejecting(false);\n      }\n    }\n  };\n  const handleRaiseFraudFlag = async () => {\n    if (window.confirm(\"Are you sure you want to raise a fraud flag on this freelancer? This action is permanent and will be recorded on the blockchain.\")) {\n      setRaisingFlag(true);\n      try {\n        const response = await axios.post(`http://localhost:5000/api/jobs/${jobId}/raise-fraud-flag`, {\n          clientAddress: wallet\n        });\n        alert(\"Fraud flag raised successfully. This will be visible on the freelancer's profile.\");\n        loadJobDetails();\n      } catch (err) {\n        setError(\"Failed to raise fraud flag: \" + err.message);\n      } finally {\n        setRaisingFlag(false);\n      }\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"Loading job details...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 23\n  }, this);\n  if (!job) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error-message\",\n    children: \"Job not found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 20\n  }, this);\n  const isClient = wallet === job.client || userRole === \"client\";\n  const isFreelancer = wallet === job.freelancer || userRole === \"freelancer\";\n\n  // Effective state: If we have preview data (jobStatus), treat state as 1 (Submitted) \n  // unless it's already higher (Approved/Rejected)\n  const effectiveState = job.state === 0 && jobStatus ? 1 : job.state;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => navigate(\"/\"),\n          style: {\n            padding: \"0.5rem 1rem\",\n            fontSize: \"0.9rem\"\n          },\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-title\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Job Details \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                opacity: 0.5,\n                fontSize: \"1.2rem\"\n              },\n              children: [\"#\", jobId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-alert alert-error\",\n        children: [\"\\u26A0\\uFE0F \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-cols-3\",\n        style: {\n          display: \"grid\",\n          gap: \"2rem\",\n          marginBottom: \"2.5rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"1.5rem\",\n            background: \"rgba(15, 23, 42, 0.4)\",\n            borderRadius: \"12px\",\n            border: \"1px solid var(--border)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: \"0.9rem\",\n              color: \"var(--text-muted)\",\n              marginBottom: \"0.5rem\",\n              display: \"block\"\n            },\n            children: \"Escrow Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"2rem\",\n              color: \"var(--success)\",\n              fontWeight: \"800\"\n            },\n            children: [\"$\", job.amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"1.5rem\",\n            background: \"rgba(15, 23, 42, 0.4)\",\n            borderRadius: \"12px\",\n            border: \"1px solid var(--border)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: \"0.9rem\",\n              color: \"var(--text-muted)\",\n              marginBottom: \"0.5rem\",\n              display: \"block\"\n            },\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `status-badge ${getStatusClass(job.state) || \"\"}`,\n            style: {\n              fontSize: \"1rem\",\n              padding: \"0.5rem 1rem\"\n            },\n            children: getStateLabel(job.state)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"1.5rem\",\n            background: \"rgba(15, 23, 42, 0.4)\",\n            borderRadius: \"12px\",\n            border: \"1px solid var(--border)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: \"0.9rem\",\n              color: \"var(--text-muted)\",\n              marginBottom: \"0.5rem\",\n              display: \"block\"\n            },\n            children: \"Deadline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"1.2rem\",\n              fontWeight: \"600\"\n            },\n            children: [\"\\u23F0 \", new Date(job.deadline).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"2.5rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: \"1rem\",\n            color: \"var(--text-main)\"\n          },\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"1.5rem\",\n            background: \"rgba(15, 23, 42, 0.4)\",\n            borderRadius: \"12px\",\n            lineHeight: \"1.8\",\n            color: \"var(--text-main)\"\n          },\n          children: job.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"1fr 1fr\",\n          gap: \"2rem\",\n          fontSize: \"0.9rem\",\n          color: \"var(--text-muted)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Client Wallet:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontFamily: \"monospace\",\n              marginTop: \"0.5rem\",\n              background: \"rgba(0,0,0,0.2)\",\n              padding: \"0.5rem\",\n              borderRadius: \"6px\"\n            },\n            children: job.client\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Freelancer Wallet:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontFamily: \"monospace\",\n              marginTop: \"0.5rem\",\n              background: \"rgba(0,0,0,0.2)\",\n              padding: \"0.5rem\",\n              borderRadius: \"6px\"\n            },\n            children: job.freelancer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), job.fraudFlagRaised && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-alert alert-error\",\n        style: {\n          marginTop: \"1.5rem\"\n        },\n        children: [\"\\uD83D\\uDEA8 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Fraud Flag Raised\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 16\n        }, this), \" - Client has reported fraudulent behavior on this job.\", /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"0.5rem\",\n            fontSize: \"0.9rem\"\n          },\n          children: [\"Flagged on: \", new Date(job.fraudFlagTimestamp).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), job.initialPaymentPercent && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"1.5rem\",\n          padding: \"1rem\",\n          background: \"rgba(15, 23, 42, 0.4)\",\n          borderRadius: \"12px\",\n          border: \"1px solid var(--border)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            marginBottom: \"0.75rem\",\n            fontSize: \"1rem\"\n          },\n          children: \"Payment Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(3, 1fr)\",\n            gap: \"1rem\",\n            fontSize: \"0.9rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"var(--text-muted)\"\n              },\n              children: [\"Initial Payment (\", job.initialPaymentPercent, \"%)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: \"bold\",\n                color: job.initialPaymentReleased ? \"var(--success)\" : \"var(--text-muted)\"\n              },\n              children: [\"$\", (job.amount * job.initialPaymentPercent / 100).toFixed(2), job.initialPaymentReleased && \" ‚úì\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"var(--text-muted)\"\n              },\n              children: [\"Remaining (\", 100 - job.initialPaymentPercent, \"%)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: [\"$\", (job.amount * (100 - job.initialPaymentPercent) / 100).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"var(--text-muted)\"\n              },\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: \"bold\",\n                fontSize: \"1.1rem\"\n              },\n              children: [\"$\", job.amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), isClient && job.state === 0 && job.initialPaymentReleased && !job.fraudFlagRaised && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card\",\n      style: {\n        marginTop: \"2rem\",\n        border: \"1px solid var(--warning)\",\n        background: \"rgba(251, 191, 36, 0.05)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: \"1rem\",\n          color: \"var(--warning)\"\n        },\n        children: \"\\u26A0\\uFE0F Freelancer Not Responding?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"var(--text-muted)\",\n          marginBottom: \"1.5rem\"\n        },\n        children: \"If the freelancer has received the initial payment but hasn't submitted any work, you can raise a fraud flag. This will be permanently recorded on the blockchain and visible on their profile.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: handleRaiseFraudFlag,\n        disabled: raisingFlag,\n        children: raisingFlag ? \"Raising Flag...\" : \"üö® Raise Fraud Flag\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this), isClient && jobStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card\",\n      style: {\n        marginTop: \"2rem\",\n        borderTop: \"4px solid var(--primary)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: \"1.5rem\"\n        },\n        children: \"\\uD83D\\uDCC1 Work Submission Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-alert alert-info\",\n        children: \"Freelancer has submitted work. Review the preview below before approving payment.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"2rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontWeight: \"bold\",\n            display: \"block\",\n            marginBottom: \"0.5rem\"\n          },\n          children: \"Watermarked Preview:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: \"1rem\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: jobStatus.previewURL,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"btn btn-primary\",\n            children: \"\\uD83D\\uDC40 View Preview File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: \"0.9rem\",\n              color: \"var(--text-muted)\"\n            },\n            children: [\"Submitted: \", jobStatus.submittedAt]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: \"1.5rem\",\n          paddingTop: \"1.5rem\",\n          borderTop: \"1px solid var(--border)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'none'\n          },\n          children: [\"state: \", job.state]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: handleApprove,\n          disabled: approving || job.state !== 1,\n          style: {\n            flex: 1,\n            opacity: job.state !== 1 ? 0.5 : 1,\n            cursor: job.state !== 1 ? 'not-allowed' : 'pointer'\n          },\n          children: approving ? \"Releasing Funds...\" : \"‚úÖ Approve & Release Funds\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: handleReject,\n          disabled: rejecting || job.state !== 1,\n          style: {\n            flex: 1,\n            opacity: job.state !== 1 ? 0.5 : 1,\n            cursor: job.state !== 1 ? 'not-allowed' : 'pointer'\n          },\n          children: rejecting ? \"Refunding...\" : \"‚ùå Reject & Refund Client\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }, this), isFreelancer && job.state === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card\",\n      style: {\n        marginTop: \"2rem\",\n        textAlign: \"center\",\n        padding: \"3rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: \"1rem\"\n        },\n        children: \"Ready to submit?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"var(--text-muted)\",\n          marginBottom: \"2rem\"\n        },\n        children: \"Upload your work to the secure vault to start the review process.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => navigate(`/job/${jobId}/submit`),\n        style: {\n          padding: \"1rem 2rem\",\n          fontSize: \"1.1rem\"\n        },\n        children: \"\\uD83D\\uDCE4 Upload Work File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }, this), isFreelancer && job.state === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card\",\n      style: {\n        marginTop: \"2rem\",\n        border: \"1px solid var(--warning)\",\n        background: \"rgba(251, 191, 36, 0.05)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: \"2rem\"\n          },\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: \"var(--warning)\"\n            },\n            children: \"Waiting for Client Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"var(--text-muted)\"\n            },\n            children: \"Your work has been submitted. The client will review the preview and release funds shortly.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 11\n    }, this), job.state === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card\",\n      style: {\n        marginTop: \"2rem\",\n        border: \"1px solid var(--success)\",\n        background: \"rgba(74, 222, 128, 0.05)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: \"2rem\"\n          },\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: \"var(--success)\"\n            },\n            children: \"Job Approved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"var(--text-muted)\"\n            },\n            children: \"Funds have been released! Transaction complete.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 11\n    }, this), job.state === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card\",\n      style: {\n        marginTop: \"2rem\",\n        border: \"1px solid var(--error)\",\n        background: \"rgba(248, 113, 113, 0.05)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: \"2rem\"\n          },\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: \"var(--error)\"\n            },\n            children: \"Job Rejected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"var(--text-muted)\"\n            },\n            children: \"The work was rejected and funds have been returned to the client.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n_s(JobDetail, \"yb0Crb0PJpwqKZDhMwMDibmfHzI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = JobDetail;\nexport default JobDetail;\nvar _c;\n$RefreshReg$(_c, \"JobDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsxDEV","_jsxDEV","JobDetail","wallet","userRole","_s","jobId","navigate","job","setJob","jobStatus","setJobStatus","loading","setLoading","approving","setApproving","rejecting","setRejecting","raisingFlag","setRaisingFlag","error","setError","loadJobDetails","response","get","data","success","console","log","state","statusResponse","err","getStateLabel","labels","getStatusClass","states","handleApprove","post","alert","originalCID","decryptionKey","message","handleReject","window","confirm","handleRaiseFraudFlag","clientAddress","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isClient","client","isFreelancer","freelancer","effectiveState","style","display","alignItems","gap","onClick","padding","fontSize","opacity","marginBottom","background","borderRadius","border","color","fontWeight","amount","Date","deadline","toLocaleDateString","lineHeight","description","gridTemplateColumns","fontFamily","marginTop","fraudFlagRaised","fraudFlagTimestamp","toLocaleString","initialPaymentPercent","initialPaymentReleased","toFixed","disabled","borderTop","href","previewURL","target","rel","submittedAt","paddingTop","flex","cursor","textAlign","_c","$RefreshReg$"],"sources":["E:/FairDeal(stellar)/frontend/src/pages/JobDetail.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\ninterface JobDetailProps {\r\n  wallet: string | null;\r\n  userRole: string | null;\r\n}\r\n\r\nconst JobDetail: React.FC<JobDetailProps> = ({ wallet, userRole }) => {\r\n  const { jobId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [job, setJob] = useState<any>(null);\r\n  const [jobStatus, setJobStatus] = useState<any>(null);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [approving, setApproving] = useState<boolean>(false);\r\n  const [rejecting, setRejecting] = useState<boolean>(false);\r\n  const [raisingFlag, setRaisingFlag] = useState<boolean>(false);\r\n  const [error, setError] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    loadJobDetails();\r\n  }, [jobId]);\r\n\r\n  const loadJobDetails = async () => {\r\n    try {\r\n      // Fetch real job data from backend\r\n      const response = await axios.get(`http://localhost:5000/api/jobs/${jobId}`);\r\n\r\n      if (response.data.success) {\r\n        setJob(response.data.job);\r\n        console.log(\"Loaded job:\", response.data.job);\r\n        console.log(\"Job State:\", response.data.job.state, typeof response.data.job.state);\r\n      } else {\r\n        setError(\"Job not found\");\r\n        setJob(null);\r\n      }\r\n\r\n      // Load submission status from backend\r\n      try {\r\n        const statusResponse = await axios.get(`http://localhost:5000/api/jobs/${jobId}/preview`);\r\n        setJobStatus(statusResponse.data);\r\n      } catch (err) {\r\n        // Not submitted yet\r\n        setJobStatus(null);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error loading job:\", err);\r\n      setError(\"Failed to load job details\");\r\n      setJob(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStateLabel = (state: number) => {\r\n    const labels: { [key: number]: string } = {\r\n      0: \"Created\",\r\n      1: \"Submitted\",\r\n      2: \"Approved\",\r\n      3: \"Rejected\",\r\n      4: \"Refunded\",\r\n    };\r\n    return labels[state] || \"Unknown\";\r\n  };\r\n\r\n  const getStatusClass = (state: number) => {\r\n    const states: { [key: number]: string } = {\r\n      0: \"status-created\",\r\n      1: \"status-submitted\",\r\n      2: \"status-approved\",\r\n      3: \"status-rejected\",\r\n      4: \"status-refunded\",\r\n    };\r\n    return states[state] || \"status-created\";\r\n  };\r\n\r\n  const handleApprove = async () => {\r\n    setApproving(true);\r\n    try {\r\n      const response = await axios.post(`http://localhost:5000/api/jobs/${jobId}/approve`);\r\n\r\n      alert(`Job approved! Original file CID: ${response.data.originalCID}`);\r\n      alert(`Decryption Key: ${response.data.decryptionKey}`);\r\n\r\n      // Reload job status\r\n      loadJobDetails();\r\n    } catch (err: any) {\r\n      setError(\"Failed to approve job: \" + err.message);\r\n    } finally {\r\n      setApproving(false);\r\n    }\r\n  };\r\n\r\n  const handleReject = async () => {\r\n    if (window.confirm(\"Are you sure you want to reject this job?\")) {\r\n      setRejecting(true);\r\n      try {\r\n        await axios.post(`http://localhost:5000/api/jobs/${jobId}/reject`);\r\n        alert(\"Job rejected. The original file will not be revealed.\");\r\n        loadJobDetails();\r\n      } catch (err: any) {\r\n        setError(\"Failed to reject job: \" + err.message);\r\n      } finally {\r\n        setRejecting(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRaiseFraudFlag = async () => {\r\n    if (window.confirm(\"Are you sure you want to raise a fraud flag on this freelancer? This action is permanent and will be recorded on the blockchain.\")) {\r\n      setRaisingFlag(true);\r\n      try {\r\n        const response = await axios.post(`http://localhost:5000/api/jobs/${jobId}/raise-fraud-flag`, {\r\n          clientAddress: wallet,\r\n        });\r\n        alert(\"Fraud flag raised successfully. This will be visible on the freelancer's profile.\");\r\n        loadJobDetails();\r\n      } catch (err: any) {\r\n        setError(\"Failed to raise fraud flag: \" + err.message);\r\n      } finally {\r\n        setRaisingFlag(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"loading\">Loading job details...</div>;\r\n  if (!job) return <div className=\"error-message\">Job not found</div>;\r\n\r\n  const isClient = wallet === job.client || userRole === \"client\";\r\n  const isFreelancer = wallet === job.freelancer || userRole === \"freelancer\";\r\n\r\n  // Effective state: If we have preview data (jobStatus), treat state as 1 (Submitted) \r\n  // unless it's already higher (Approved/Rejected)\r\n  const effectiveState = (job.state === 0 && jobStatus) ? 1 : job.state;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-header\">\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"1rem\" }}>\r\n          <button\r\n            className=\"btn btn-secondary\"\r\n            onClick={() => navigate(\"/\")}\r\n            style={{ padding: \"0.5rem 1rem\", fontSize: \"0.9rem\" }}\r\n          >\r\n            ‚Üê Back\r\n          </button>\r\n          <div className=\"page-title\">\r\n            <h1>Job Details <span style={{ opacity: 0.5, fontSize: \"1.2rem\" }}>#{jobId}</span></h1>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"glass-card\">\r\n        {error && <div className=\"message-alert alert-error\">‚ö†Ô∏è {error}</div>}\r\n\r\n        <div className=\"grid-cols-3\" style={{ display: \"grid\", gap: \"2rem\", marginBottom: \"2.5rem\" }}>\r\n          <div style={{ padding: \"1.5rem\", background: \"rgba(15, 23, 42, 0.4)\", borderRadius: \"12px\", border: \"1px solid var(--border)\" }}>\r\n            <label style={{ fontSize: \"0.9rem\", color: \"var(--text-muted)\", marginBottom: \"0.5rem\", display: \"block\" }}>Escrow Amount</label>\r\n            <div style={{ fontSize: \"2rem\", color: \"var(--success)\", fontWeight: \"800\" }}>\r\n              ${job.amount}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ padding: \"1.5rem\", background: \"rgba(15, 23, 42, 0.4)\", borderRadius: \"12px\", border: \"1px solid var(--border)\" }}>\r\n            <label style={{ fontSize: \"0.9rem\", color: \"var(--text-muted)\", marginBottom: \"0.5rem\", display: \"block\" }}>Status</label>\r\n            <div className={`status-badge ${getStatusClass(job.state) || \"\"}`} style={{ fontSize: \"1rem\", padding: \"0.5rem 1rem\" }}>\r\n              {getStateLabel(job.state)}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ padding: \"1.5rem\", background: \"rgba(15, 23, 42, 0.4)\", borderRadius: \"12px\", border: \"1px solid var(--border)\" }}>\r\n            <label style={{ fontSize: \"0.9rem\", color: \"var(--text-muted)\", marginBottom: \"0.5rem\", display: \"block\" }}>Deadline</label>\r\n            <div style={{ fontSize: \"1.2rem\", fontWeight: \"600\" }}>\r\n              ‚è∞ {new Date(job.deadline).toLocaleDateString()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ marginBottom: \"2.5rem\" }}>\r\n          <h3 style={{ marginBottom: \"1rem\", color: \"var(--text-main)\" }}>Description</h3>\r\n          <div style={{ padding: \"1.5rem\", background: \"rgba(15, 23, 42, 0.4)\", borderRadius: \"12px\", lineHeight: \"1.8\", color: \"var(--text-main)\" }}>\r\n            {job.description}\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"2rem\", fontSize: \"0.9rem\", color: \"var(--text-muted)\" }}>\r\n          <div>\r\n            <strong>Client Wallet:</strong>\r\n            <div style={{ fontFamily: \"monospace\", marginTop: \"0.5rem\", background: \"rgba(0,0,0,0.2)\", padding: \"0.5rem\", borderRadius: \"6px\" }}>\r\n              {job.client}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <strong>Freelancer Wallet:</strong>\r\n            <div style={{ fontFamily: \"monospace\", marginTop: \"0.5rem\", background: \"rgba(0,0,0,0.2)\", padding: \"0.5rem\", borderRadius: \"6px\" }}>\r\n              {job.freelancer}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Fraud Flag Warning */}\r\n        {job.fraudFlagRaised && (\r\n          <div className=\"message-alert alert-error\" style={{ marginTop: \"1.5rem\" }}>\r\n            üö® <strong>Fraud Flag Raised</strong> - Client has reported fraudulent behavior on this job.\r\n            <div style={{ marginTop: \"0.5rem\", fontSize: \"0.9rem\" }}>\r\n              Flagged on: {new Date(job.fraudFlagTimestamp).toLocaleString()}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Payment Breakdown */}\r\n        {job.initialPaymentPercent && (\r\n          <div style={{ marginTop: \"1.5rem\", padding: \"1rem\", background: \"rgba(15, 23, 42, 0.4)\", borderRadius: \"12px\", border: \"1px solid var(--border)\" }}>\r\n            <h4 style={{ marginBottom: \"0.75rem\", fontSize: \"1rem\" }}>Payment Breakdown</h4>\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, 1fr)\", gap: \"1rem\", fontSize: \"0.9rem\" }}>\r\n              <div>\r\n                <div style={{ color: \"var(--text-muted)\" }}>Initial Payment ({job.initialPaymentPercent}%)</div>\r\n                <div style={{ fontWeight: \"bold\", color: job.initialPaymentReleased ? \"var(--success)\" : \"var(--text-muted)\" }}>\r\n                  ${(job.amount * job.initialPaymentPercent / 100).toFixed(2)}\r\n                  {job.initialPaymentReleased && \" ‚úì\"}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <div style={{ color: \"var(--text-muted)\" }}>Remaining ({100 - job.initialPaymentPercent}%)</div>\r\n                <div style={{ fontWeight: \"bold\" }}>\r\n                  ${(job.amount * (100 - job.initialPaymentPercent) / 100).toFixed(2)}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <div style={{ color: \"var(--text-muted)\" }}>Total</div>\r\n                <div style={{ fontWeight: \"bold\", fontSize: \"1.1rem\" }}>${job.amount}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Fraud Flag Option (for Client) */}\r\n      {isClient && job.state === 0 && job.initialPaymentReleased && !job.fraudFlagRaised && (\r\n        <div className=\"glass-card\" style={{ marginTop: \"2rem\", border: \"1px solid var(--warning)\", background: \"rgba(251, 191, 36, 0.05)\" }}>\r\n          <h3 style={{ marginBottom: \"1rem\", color: \"var(--warning)\" }}>‚ö†Ô∏è Freelancer Not Responding?</h3>\r\n          <p style={{ color: \"var(--text-muted)\", marginBottom: \"1.5rem\" }}>\r\n            If the freelancer has received the initial payment but hasn't submitted any work, you can raise a fraud flag.\r\n            This will be permanently recorded on the blockchain and visible on their profile.\r\n          </p>\r\n          <button\r\n            className=\"btn btn-danger\"\r\n            onClick={handleRaiseFraudFlag}\r\n            disabled={raisingFlag}\r\n          >\r\n            {raisingFlag ? \"Raising Flag...\" : \"üö® Raise Fraud Flag\"}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Submission Preview (for Client) */}\r\n      {\r\n        isClient && jobStatus && (\r\n          <div className=\"glass-card\" style={{ marginTop: \"2rem\", borderTop: \"4px solid var(--primary)\" }}>\r\n            <h3 style={{ marginBottom: \"1.5rem\" }}>üìÅ Work Submission Review</h3>\r\n\r\n            <div className=\"message-alert alert-info\">\r\n              Freelancer has submitted work. Review the preview below before approving payment.\r\n            </div>\r\n\r\n            <div style={{ marginBottom: \"2rem\" }}>\r\n              <label style={{ fontWeight: \"bold\", display: \"block\", marginBottom: \"0.5rem\" }}>Watermarked Preview:</label>\r\n              <div style={{ display: \"flex\", gap: \"1rem\", alignItems: \"center\" }}>\r\n                <a\r\n                  href={jobStatus.previewURL}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"btn btn-primary\"\r\n                >\r\n                  üëÄ View Preview File\r\n                </a>\r\n                <span style={{ fontSize: \"0.9rem\", color: \"var(--text-muted)\" }}>\r\n                  Submitted: {jobStatus.submittedAt}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ display: \"flex\", gap: \"1.5rem\", paddingTop: \"1.5rem\", borderTop: \"1px solid var(--border)\" }}>\r\n              {/* Debug info - remove later */}\r\n              <div style={{ display: 'none' }}>state: {job.state}</div>\r\n\r\n              <button\r\n                className=\"btn btn-success\"\r\n                onClick={handleApprove}\r\n                disabled={approving || job.state !== 1}\r\n                style={{ flex: 1, opacity: job.state !== 1 ? 0.5 : 1, cursor: job.state !== 1 ? 'not-allowed' : 'pointer' }}\r\n              >\r\n                {approving ? \"Releasing Funds...\" : \"‚úÖ Approve & Release Funds\"}\r\n              </button>\r\n              <button\r\n                className=\"btn btn-danger\"\r\n                onClick={handleReject}\r\n                disabled={rejecting || job.state !== 1}\r\n                style={{ flex: 1, opacity: job.state !== 1 ? 0.5 : 1, cursor: job.state !== 1 ? 'not-allowed' : 'pointer' }}\r\n              >\r\n                {rejecting ? \"Refunding...\" : \"‚ùå Reject & Refund Client\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      {/* Submit Work (for Freelancer) */}\r\n      {\r\n        isFreelancer && job.state === 0 && (\r\n          <div className=\"glass-card\" style={{ marginTop: \"2rem\", textAlign: \"center\", padding: \"3rem\" }}>\r\n            <h3 style={{ marginBottom: \"1rem\" }}>Ready to submit?</h3>\r\n            <p style={{ color: \"var(--text-muted)\", marginBottom: \"2rem\" }}>\r\n              Upload your work to the secure vault to start the review process.\r\n            </p>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => navigate(`/job/${jobId}/submit`)}\r\n              style={{ padding: \"1rem 2rem\", fontSize: \"1.1rem\" }}\r\n            >\r\n              üì§ Upload Work File\r\n            </button>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      {/* Work Submitted (for Freelancer) */}\r\n      {\r\n        isFreelancer && job.state === 1 && (\r\n          <div className=\"glass-card\" style={{ marginTop: \"2rem\", border: \"1px solid var(--warning)\", background: \"rgba(251, 191, 36, 0.05)\" }}>\r\n            <div style={{ display: \"flex\", alignItems: \"center\", gap: \"1rem\" }}>\r\n              <div style={{ fontSize: \"2rem\" }}>‚è≥</div>\r\n              <div>\r\n                <h3 style={{ color: \"var(--warning)\" }}>Waiting for Client Review</h3>\r\n                <p style={{ color: \"var(--text-muted)\" }}>\r\n                  Your work has been submitted. The client will review the preview and release funds shortly.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      {/* Approved */}\r\n      {\r\n        job.state === 2 && (\r\n          <div className=\"glass-card\" style={{ marginTop: \"2rem\", border: \"1px solid var(--success)\", background: \"rgba(74, 222, 128, 0.05)\" }}>\r\n            <div style={{ display: \"flex\", alignItems: \"center\", gap: \"1rem\" }}>\r\n              <div style={{ fontSize: \"2rem\" }}>‚úÖ</div>\r\n              <div>\r\n                <h3 style={{ color: \"var(--success)\" }}>Job Approved</h3>\r\n                <p style={{ color: \"var(--text-muted)\" }}>\r\n                  Funds have been released! Transaction complete.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      {/* Rejected */}\r\n      {\r\n        job.state === 3 && (\r\n          <div className=\"glass-card\" style={{ marginTop: \"2rem\", border: \"1px solid var(--error)\", background: \"rgba(248, 113, 113, 0.05)\" }}>\r\n            <div style={{ display: \"flex\", alignItems: \"center\", gap: \"1rem\" }}>\r\n              <div style={{ fontSize: \"2rem\" }}>‚ùå</div>\r\n              <div>\r\n                <h3 style={{ color: \"var(--error)\" }}>Job Rejected</h3>\r\n                <p style={{ color: \"var(--text-muted)\" }}>\r\n                  The work was rejected and funds have been returned to the client.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default JobDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}